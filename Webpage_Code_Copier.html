<!DOCTYPE html>
<html>
<head>
  <title>Fetching Code</title>
</head>
<body>
  <button onclick="fetchAndDisplayCode()">Fetch Code</button>
  <div>
    <p id="loadingMessage" style="display: none;">Fetching code...</p>
    <textarea id="codeDisplay" rows="10" cols="50" readonly></textarea>
  </div>

  <script>
    function fetchAndDisplayCode() {
      const url = "https://wdh.gg/";

      // Show "Fetching code..." message
      const loadingMessage = document.getElementById("loadingMessage");
      loadingMessage.style.display = "block";

      fetch(url)
        .then(response => {
          if (!response.ok) {
            throw new Error("Failed to retrieve the URL. Status Code: " + response.status);
          }
          return response.text();
        })
        .then(code => {
          // Hide "Fetching code..." message
          loadingMessage.style.display = "none";

          // Display the fetched code in the textarea
          const codeDisplay = document.getElementById("codeDisplay");
          codeDisplay.value = code;
        })
        .catch(error => {
          // Hide "Fetching code..." message
          loadingMessage.style.display = "none";

          // Display an error message in the textarea
          const codeDisplay = document.getElementById("codeDisplay");
          codeDisplay.value = "An error occurred during the request: " + error.message;
        });
    }
  </script>
</body>
</html>
